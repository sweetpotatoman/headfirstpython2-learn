## 函数修饰符

---

### 了解会话 session
**需要认证用户才可以访问**  

可以把会话看作是无状态 Web 上面的一层状态。  

通过向浏览器增加一小段认证数据 (一个 cookie)，并将它链接到 Web 服务器上的一小段认证数据 (session id)，Flask 使用会话技术来解决这些问题。  


**使用 [quick_session.py](quick_session.py) 文件来说明 flask 的会话机制如何工作**  
- 用会话管理登录  
  根据上面的代码可知，可以把浏览器的状态存储在 session 中，使用 session 时，不论多少个浏览器与 Web 应用交互，每个浏览器的服务端数据 **(即状态)** 都由 `Flask` 管理


### 创建修饰符
四个问题：
1. 如何创建一个函数
2. 如何把一个函数作为参数传递到另一个函数
3. 如何从函数返回一个函数
4. 如何处理任意数量和类型的函数参数

#### 4. 如何处理任意数量和类型的函数参数
##### 使用 * 接收一个任意的参数表
python 提供一种特殊的记法，允许指定一个函数可以接收任意数量的参数（0个或多个）
```py
def myfunc(*args):
    for a in args:
        print(a, end=' ')
    if args:
        print()

myfunc(10) //10
myfunc() //
myfunc(10,30,40) // 10 30 40
myfunc(1,'two',3) // 1 two 3

values = [1,3,4,5]

myfunc(values) // [1,3,4,5] # 列表被处理为一项
myfunc(*values) // 1 3 4 5 # 加上 * 会把列表展开，把每个列表项作为一个单独的参数
```

##### 使用 ** 接收任意多个关键字参数
除了 * 记法，python 还提供 **，它展开为一个关键字参数集合。
```py
def myfunc2(**kwargs):
    for k, v in kwargs.items():
        print(k, v, sep='->', end=' ')
    if kwargs:
        print()

myfunc2(a=10, b=20) // b->20 a->10
myfunc2() //
myfunc2(a=10, b=20, c=30) // c->30 b->20 a->10
```

##### 接收任意数量和类型的函数参数
python 允许函数接收一个参数列表（使用 *），另外还可以接收任意多个关键字参数（使用 **），也可以结合这两种。
```py
def myfunc3(*args, **kwargs):
    if args:
        for a in args:
            print(a, end=' ')
        print()        
    if kwargs:
        for k, v in kwargs.items():
            print(k, v, sep='->', end=' ')
        print()

myfunc3() //
myfunc3(1,2,3) // 1 2 3
myfunc3(a=10, b=20) // b->20 a->10
myfunc3(1,3,5,a=10,b=20,c=30) // 1 2 3
                              // a->10 c->30 b->20

```

### 创建函数修饰符的规则
- 修饰符是一个函数
  > 修饰符知识一个函数，不过是管理一个已有函数的函数，已有的函数称为 **被修饰函数**

- 修饰符取被修饰函数为参数
  > 修饰符需要接收被修饰函数为参数，只需要把被修饰函数作为一个函数对象传入修饰符

- 修饰符返回一个新函数
  > 修饰符返回一个新函数作为其返回值。

- 修饰符维护被修饰函数的签名
  > 修饰符需要确保它返回的函数与被修饰函数有同样的参数（个数和类型都相同），函数参数的个数和类型称为其**签名**

