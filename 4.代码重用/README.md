## 代码重用
---
### 引入函数

- def 指定函数名，return 向调用这个函数的代码传回一个值
- 函数可以接收参数数据
- 函数包含代码，也包含文档


```py
def a_descriptive_name(optional_arguments):
    """A documentation string."""
    # 代码
    return optional_value  
```


#### 字符串引号
在 python 中，字符串可以用单引号字符 (')、双引号字符 (") 或者三重引号 (""" or ''') 包围。  

三重引号的字符串成为 **docstring**，主要用作为文档，描述函数的用途  


单引号字符 (')、双引号字符 (") 包围的字符不能跨多行；  
三重引号 (""" or ''') 则可以跨多行

#### 使用注解
- 函数注解是可选的，只有 python3 才可以使用注解
- 函数注解可以提供信息，但并不会有任何行为

  ```py
  def search4vowels(phrase: str, letters: str='aeiou') -> set:
      """Return any vowels found in a supplied   phrase."""
      return vowels.intersection(set(phrase))
  ```
  - `phrase: str`： 指出希望 `phrase` 参数是一个字符串
  - `-> set`： 指出函数向其调用者返回一个集合
  - `letters: str='aeiou'`： 为参数指定默认值

- 使用注解来帮助建立函数文档，可以使用 `help BIF` 查看注解

---

### 模块寻找
寻找模块时，解释器会从这三个地方搜索模块：
- 当前工作目录
- 解释器的 site-packages 位置 --- 包含已安装的第三方 python 模块（也包含自己写的模块） ---> `os / sys / random ....`
- 标准库位置 (BIF) ---> `print / dir / help ....`

> 无法使用指定路径的方式导入模块，因为 `import` 不指定，所以可以把自己编写的模块，增加到某个 `site-packages` 中

#### 模块安装到 site-packages 
- 使用 setuptools 将模块安装到 site-packages
  - 创建一个发布描述
    > 明确希望 setuptools 安装的模块
    - 创建 `setup.py` 和 `README.txt` 两个文件
  - 生成一个发布文件
    > 创建一个可共享的发布文件，其中包含模块的代码
    - `python3 setup.py sdist` 生成一个可安装文件为源发布文件
  - 安装发布文件
    > 将发布文件安装到 site-packages 中
    - `python3 -m pip install vsearch-1.0.tar.gz`

#### 函数参数
- 按值参数传递
  > 指的是使用一个变量的值来取代一个函数参数的做法，如果这个值在函数代码中改变，对于调用这个函数的代码来说，其中对应的变量值并不会收到任何影响。**可以把这个参数认为是原变量值的一个副本**

- 按引用参数传递
  > 对于调用这个函数的代码，会维护这个代码中变量的一个链接。如果函数代码组中的变量改变，那么调用这个函数的代码中，相应的变量值也会改变。**可以把这个参数认为是原变量的一个别名**

python 的函数参数语义既支持`按值调用`，也支持`按引用调用`  

实际上，解释器会查看对象引用（内存地址）指示的那个值的类型，如果变量指示一个 **可变的值**，就会按引用调用语义；如果所指示的数据的类型是 **不可变的**，则会按值调用语义。  

列表、字典、集合（都是可变的）总是按引用传入函数，函数代码组中对变量数据结构的任何改变都会反映到调用函数中。**毕竟这些数据都是可变的。**  

字符串、整数、元组（不可变）总会按值传入函数，函数中对变量的任何修改是这个函数私有，不会反映到调用代码中。**由于数据是不可变量，所以不能改变**。